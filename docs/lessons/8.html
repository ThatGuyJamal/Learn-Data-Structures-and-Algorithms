<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Heaps and Priority Queues - Learn Data Structures and Algorithms</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Learn the fundamentals of Data Structures and Algorithms using Rust">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../lessons/1.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../lessons/2.html"><strong aria-hidden="true">2.</strong> Big O Notation</a></li><li class="chapter-item expanded "><a href="../lessons/3.html"><strong aria-hidden="true">3.</strong> Arrays and Vectors</a></li><li class="chapter-item expanded "><a href="../lessons/4.html"><strong aria-hidden="true">4.</strong> Linked Lists</a></li><li class="chapter-item expanded "><a href="../lessons/5.html"><strong aria-hidden="true">5.</strong> Stacks and Queues</a></li><li class="chapter-item expanded "><a href="../lessons/6.html"><strong aria-hidden="true">6.</strong> Hash Maps and Hash Sets</a></li><li class="chapter-item expanded "><a href="../lessons/7.html"><strong aria-hidden="true">7.</strong> Binary Trees</a></li><li class="chapter-item expanded "><a href="../lessons/8.html" class="active"><strong aria-hidden="true">8.</strong> Heaps and Priority Queues</a></li><li class="chapter-item expanded "><a href="../lessons/9.html"><strong aria-hidden="true">9.</strong> Graphs and Graph Algorithms</a></li><li class="chapter-item expanded "><a href="../lessons/10.html"><strong aria-hidden="true">10.</strong> Sorting Algorithms</a></li><li class="chapter-item expanded "><a href="../lessons/11.html"><strong aria-hidden="true">11.</strong> Searching Algorithms</a></li><li class="chapter-item expanded "><a href="../lessons/12.html"><strong aria-hidden="true">12.</strong> Dynamic Programming</a></li><li class="chapter-item expanded "><a href="../lessons/13.html"><strong aria-hidden="true">13.</strong> Recursion and Backtracking</a></li><li class="chapter-item expanded "><a href="../lessons/14.html"><strong aria-hidden="true">14.</strong> Recommended Projects</a></li><li class="chapter-item expanded affix "><a href="../contact.html">Contact Me</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Learn Data Structures and Algorithms</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ThatGuyJamal/Learn-Data-Structures-and-Algorithms" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ThatGuyJamal/Learn-Data-Structures-and-Algorithms/edit/master/book/src/lessons/8.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="heaps-and-priority-queues"><a class="header" href="#heaps-and-priority-queues">Heaps and Priority Queues</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>In this lesson, we'll explore heaps and priority queues, their properties, and their usage in Rust. Heaps and priority queues are essential for managing and accessing data with priority.</p>
<h3 id="key-points"><a class="header" href="#key-points">Key Points</a></h3>
<ul>
<li><strong>Heaps</strong>: A specialized tree-based data structure that satisfies the heap property, commonly used to implement priority queues.</li>
<li><strong>Priority Queues</strong>: An abstract data type where each element has a priority, and elements are served based on their priority.</li>
</ul>
<h2 id="heaps"><a class="header" href="#heaps">Heaps</a></h2>
<p>A heap is a complete binary tree that satisfies the heap property. There are two types of heaps:</p>
<ul>
<li><strong>Max-Heap</strong>: The value of each node is greater than or equal to the values of its children.</li>
<li><strong>Min-Heap</strong>: The value of each node is less than or equal to the values of its children.</li>
</ul>
<h3 id="max-heap-implementation"><a class="header" href="#max-heap-implementation">Max-Heap Implementation</a></h3>
<p>Here’s a basic implementation of a max-heap in Rust using a vector:</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct MaxHeap&lt;T&gt; {
    heap: Vec&lt;T&gt;,
}

impl&lt;T: Ord&gt; MaxHeap&lt;T&gt; {
    fn new() -&gt; Self {
        MaxHeap { heap: Vec::new() }
    }

    fn insert(&amp;mut self, value: T) {
        self.heap.push(value);
        self.heapify_up(self.heap.len() - 1);
    }

    fn extract_max(&amp;mut self) -&gt; Option&lt;T&gt; {
        if self.heap.is_empty() {
            return None;
        }
        let max = self.heap.swap_remove(0);
        self.heapify_down(0);
        Some(max)
    }

    fn heapify_up(&amp;mut self, index: usize) {
        let mut child = index;
        while child &gt; 0 {
            let parent = (child - 1) / 2;
            if self.heap[child] &lt;= self.heap[parent] {
                break;
            }
            self.heap.swap(child, parent);
            child = parent;
        }
    }

    fn heapify_down(&amp;mut self, index: usize) {
        let mut parent = index;
        let len = self.heap.len();
        loop {
            let mut max = parent;
            let left = 2 * parent + 1;
            let right = 2 * parent + 2;

            if left &lt; len &amp;&amp; self.heap[left] &gt; self.heap[max] {
                max = left;
            }
            if right &lt; len &amp;&amp; self.heap[right] &gt; self.heap[max] {
                max = right;
            }
            if max == parent {
                break;
            }
            self.heap.swap(parent, max);
            parent = max;
        }
    }
}

fn main() {
    let mut max_heap = MaxHeap::new();
    max_heap.insert(10);
    max_heap.insert(20);
    max_heap.insert(5);

    println!("Max Heap: {:?}", max_heap);

    while let Some(max) = max_heap.extract_max() {
        println!("Extracted Max: {}", max);
    }
}</code></pre></pre>
<h3 id="code-explanation"><a class="header" href="#code-explanation">Code Explanation</a></h3>
<ul>
<li><strong><code>insert</code></strong>: Adds a value to the heap and maintains the heap property.</li>
<li><strong><code>extract_max</code></strong>: Removes and returns the maximum value from the heap.</li>
<li><strong><code>heapify_up</code></strong>: Reorders the heap after insertion to maintain the heap property.</li>
<li><strong><code>heapify_down</code></strong>: Reorders the heap after extraction to maintain the heap property.</li>
</ul>
<h2 id="priority-queues"><a class="header" href="#priority-queues">Priority Queues</a></h2>
<p>A priority queue is an abstract data type where each element has a priority. Elements are dequeued based on their priority rather than their order of insertion.</p>
<h3 id="priority-queue-implementation-with-heap"><a class="header" href="#priority-queue-implementation-with-heap">Priority Queue Implementation with Heap</a></h3>
<p>Here's an implementation of a priority queue using a max-heap in Rust:</p>
<pre><pre class="playground"><code class="language-rust">#[derive(Debug)]
struct PriorityQueue&lt;T&gt; {
    heap: MaxHeap&lt;T&gt;,
}

impl&lt;T: Ord&gt; PriorityQueue&lt;T&gt; {
    fn new() -&gt; Self {
        PriorityQueue {
            heap: MaxHeap::new(),
        }
    }

    fn enqueue(&amp;mut self, value: T) {
        self.heap.insert(value);
    }

    fn dequeue(&amp;mut self) -&gt; Option&lt;T&gt; {
        self.heap.extract_max()
    }

    fn peek(&amp;self) -&gt; Option&lt;&amp;T&gt; {
        self.heap.heap.first()
    }
}

fn main() {
    let mut pq = PriorityQueue::new();
    pq.enqueue(30);
    pq.enqueue(10);
    pq.enqueue(20);

    println!("Priority Queue: {:?}", pq);

    while let Some(max) = pq.dequeue() {
        println!("Dequeued: {}", max);
    }
}</code></pre></pre>
<h3 id="code-explanation-1"><a class="header" href="#code-explanation-1">Code Explanation</a></h3>
<ul>
<li><strong><code>enqueue</code></strong>: Adds an element to the priority queue with the given priority.</li>
<li><strong><code>dequeue</code></strong>: Removes and returns the element with the highest priority.</li>
<li><strong><code>peek</code></strong>: Returns a reference to the element with the highest priority without removing it.</li>
</ul>
<h2 id="real-world-examples"><a class="header" href="#real-world-examples">Real World Examples</a></h2>
<h3 id="heaps-1"><a class="header" href="#heaps-1">Heaps</a></h3>
<p>Heaps are often used in:</p>
<ul>
<li><strong>Heap Sort</strong>: A sorting algorithm that uses a heap to sort elements efficiently.</li>
<li><strong>Task Scheduling</strong>: In operating systems, heaps can manage tasks based on their priority.</li>
</ul>
<h3 id="priority-queues-1"><a class="header" href="#priority-queues-1">Priority Queues</a></h3>
<p>Priority queues are used in scenarios where tasks or elements need to be processed based on priority:</p>
<ul>
<li><strong>Dijkstra’s Algorithm</strong>: Used in shortest path algorithms where nodes are processed based on their distance.</li>
<li><strong>Job Scheduling</strong>: In operating systems, priority queues manage processes or tasks based on their priority.</li>
</ul>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>Heaps and priority queues are powerful data structures for managing and accessing data with priority. By implementing these structures in Rust, you can handle various applications more efficiently and understand key algorithms better.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../lessons/7.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../lessons/9.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../lessons/7.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../lessons/9.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../editor.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
